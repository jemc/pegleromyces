
BasicSpec {
  name: "BytecodeMachine"
  
  new_machine: BytecodeMachine { }
  
  tiny_grammar: Grammar {
    [rules]
    rule root: str('abc') / str('x') + set('Yy') + !str('y') + !!str('z') + any
  }
  
  [tests]
  
  it "can match from a tiny grammar": {
    machine = new_machine
    machine.grammar = tiny_grammar
    machine.subject = 'xyz'
    machine.execute
    assert_equal(machine.result, 3)
  }
}
